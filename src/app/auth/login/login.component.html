<div class="container flex align-items-center justify-content-center">
  <mat-card style="width: 40%">
    <mat-card-header>
      <mat-card-title>Iniciar Sesion</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="form" autocomplete="off" (ngSubmit)="login()">
        <p>
          <mat-form-field appearance="outline" style="width: 100%">
            <mat-label>Correo Electronico</mat-label>
            <input
              matInput
              type="email"
              formControlName="email"
              autocomplete="off"
            />
            <mat-icon matSuffix>mail_outline</mat-icon>
            <mat-hint
              *ngIf="
                form.controls['email'].invalid &&
                (form.controls['email'].dirty || form.controls['email'].touched)
              "
              class="warn"
            >
              <ng-container *ngIf="form.controls['email'].errors?.required">
                Este campo es requerido.
              </ng-container>
              <ng-container *ngIf="form.controls['email'].errors?.email"
                >Formato incorrecto.</ng-container
              >
            </mat-hint>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field appearance="outline" style="width: 100%">
            <mat-label>Contrase√±a</mat-label>
            <input
              matInput
              autocomplete="off"
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="password"
            />
            <mat-icon
              matSuffix
              (click)="hidePassword = !hidePassword"
              style="cursor: pointer; user-select: none"
              >{{ hidePassword ? "visibility" : "visibility_off" }}</mat-icon
            >
            <mat-hint
              *ngIf="
                form.controls['password'].invalid &&
                (form.controls['password'].dirty ||
                  form.controls['password'].touched)
              "
              class="warn"
            >
              <ng-container *ngIf="form.controls['password'].errors?.required">
                Este campo es requerido.
              </ng-container>
            </mat-hint>
          </mat-form-field>
        </p>
        <p>
          <a style="color: white" routerLink="/auth/register">
            Aun no tienes una cuenta ?
          </a>
        </p>

        <div>
          <button
            mat-button
            color="accent"
            [disabled]="!form.valid || loading"
            type="submit"
          >
            Iniciar Sesion
          </button>
        </div>
      </form>
    </mat-card-content>
    <mat-progress-bar
      *ngIf="loading"
      mode="indeterminate"
      color="accent"
    ></mat-progress-bar>
  </mat-card>
</div>
